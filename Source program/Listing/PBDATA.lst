C51 COMPILER V9.02   PBDATA                                                                03/22/2018 23:22:55 PAGE 1   


C51 COMPILER V9.02, COMPILATION OF MODULE PBDATA
OBJECT MODULE PLACED IN ..\Output\PBDATA.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE ..\Code\Public\PBDATA.C BROWSE INCDIR(..\Code\DeveloperCode\inc;..\Code\Dir
                    -verCode\inc;..\Code\Public\inc) DEBUG OBJECTEXTEND PRINT(..\Listing\PBDATA.lst) OBJECT(..\Output\PBDATA.obj)

line level    source

   1          /* *******************************************************************************************
   2          // Author:              biu~
   3          // Last Date:   2017/11/03
   4          // 公共调用函数，及部分初始化函数；
   5          /* ******************************************************************************************* */
   6          
   7          #include "PBDATA.H"
   8          
   9          /*const u8 code W_Scan[8] = {0x80,0x40,0x20,0x10,0x08,0x04,0x02,0x01};                          //*** WARNING L16: UNCALLED SEGM
             -ENT, IGNORED FOR OVERLAY PROCESS
  10          //const u8 code W_Scan[8] = {0x01,0x02,0x04,0x08,0x10,0x20,0x40,0x80};          
  11          const u8 code Seg_7[11] = {0xC0,0xF9,0xA4,0xB0,0x99,0x92,0x82,0xF8,0x80,0x90,0xFF};     //    SEGMENT: ?CO?PBD
             -ATA，在Code区定义了数组，但没有被调用；
  12           */
  13          /* *******************************************************************************************
  14          // 延时1US，一般用于驱动中改变引脚电平状态后微量延时；
  15          /* ******************************************************************************************* */
  16          void Delay1US()         //@24.000MHz
  17          {
  18   1              _nop_();
  19   1      }
  20          
  21          /* *******************************************************************************************
  22          // US级延时
  23          /* ******************************************************************************************* */
  24          void DelayUS(u16 x)
  25          { 
  26   1              u8 y;
  27   1              while (x--)
  28   1                      for (y=0; y<PARAMETER_US; y++); 
  29   1      }
  30          
  31          /* *******************************************************************************************
  32          // MS级CPU延时
  33          ///* ******************************************************************************************* */
  34          void DelayMS(u16 x)
  35          {
  36   1              u16 y;
  37   1              while (x--)
  38   1                      for (y=0; y<PARAMETER_MS; y++); 
  39   1      }
  40          
  41          /* *******************************************************************************************
  42          // IO电平初始化
  43          /* ******************************************************************************************* */
  44          void InitIO()
  45          {
  46   1              P0 = 0xFF;
  47   1              P1 = 0xFF;      
  48   1              P2 = 0xFF;      
  49   1              P3 = 0xFF;      
  50   1      //      P4 = 0xFF;      
  51   1      //      P5 = 0xFF;      
  52   1      //      P6 = 0xFF;      
C51 COMPILER V9.02   PBDATA                                                                03/22/2018 23:22:55 PAGE 2   

  53   1      //      P7 = 0xFF;      
  54   1      //      P0M0 = 0x00;    
  55   1      //      P0M1 = 0x00;    
  56   1      //      P1M0 = 0x00;    
  57   1      //      P1M1 = 0x00;    
  58   1      //      P2M0 = 0x00;    
  59   1      //      P2M1 = 0x00;    
  60   1      //      P3M0 = 0x00;    
  61   1      //      P3M1 = 0x00;    
  62   1      //      P4M0 = 0x00;    
  63   1      //      P4M1 = 0x00;    
  64   1      //      P5M0 = 0x00;    
  65   1      //      P5M1 = 0x00;    
  66   1      //      P6M0 = 0x00;    
  67   1      //      P6M1 = 0x00;    
  68   1      //      P7M0 = 0x00;    
  69   1      //      P7M1 = 0x00;    
  70   1      }
  71          
  72          /* *******************************************************************************************
  73          // 初始化完成提示
  74          /* ******************************************************************************************* */
  75          void InitOver()
  76          {
  77   1              LED_On();
  78   1              DelayMS(10);
  79   1              LED_Off();
  80   1      }
  81          
  82          /* *******************************************************************************************
  83          // 下载检测
  84          /* ******************************************************************************************* */
  85          sfr ISP_CONTR = 0xE7;
  86          // ISP区复位：
  87          void STC_ISP()
  88          {
  89   1              P30 = 1;
  90   1              Delay1US();             // 等待电平稳定；
  91   1              if (!P30)
  92   1                      ISP_CONTR = 0x60;
  93   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     91    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
