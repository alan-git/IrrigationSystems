C51 COMPILER V9.02   PCF8591                                                               03/22/2018 23:22:55 PAGE 1   


C51 COMPILER V9.02, COMPILATION OF MODULE PCF8591
OBJECT MODULE PLACED IN ..\Output\PCF8591.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE ..\Code\DirverCode\PCF8591.C BROWSE INCDIR(..\Code\DeveloperCode\inc;..\Cod
                    -e\DirverCode\inc;..\Code\Public\inc) DEBUG OBJECTEXTEND PRINT(..\Listing\PCF8591.lst) OBJECT(..\Output\PCF8591.obj)

line level    source

   1          /* *******************************************************************************************
   2          // Author:              biu~
   3          // Last Date:   2018/03/22
   4          // 蓝桥杯国赛驱动，添加注释及DA转换驱动；
   5          /* ******************************************************************************************* */
   6          #include "PCF8591.H"
   7          
   8          /* *******************************************************************************************
   9          // 初始化一个端口，后续调用Read函数进行读取：
  10          /* ******************************************************************************************* */
  11          void PCF8591_Con_Init(u8 con)
  12          {
  13   1              I2C_Start();
  14   1              I2C_Send_Byte(WRITE_PCF8591);
  15   1              I2C_Send_Byte(con);
  16   1              I2C_Stop();
  17   1      }
  18          
  19          /* *******************************************************************************************
  20          // 将Init函数定义的端口AD读出：
  21          /* ******************************************************************************************* */
  22          u8 Read_PCF8591()
  23          {
  24   1              u8 recv_data;
  25   1              I2C_Start();
  26   1              I2C_Send_Byte(READ_PCF8591);
  27   1              DelayUS(3);
  28   1              recv_data = I2C_Recv_Byte();
  29   1              I2C_Stop();
  30   1              return recv_data;
  31   1      }
  32          
  33          /* *******************************************************************************************
  34          // DA输出
  35          /* ******************************************************************************************* */
  36          //void DAout_PCF8591(u8 con, u8 dat)                     //     DA转换
  37          //{
  38          //      Start_PCF8591();
  39          //      Write_Byte(0x90);
  40          //      Write_Byte(con);
  41          //      Write_Byte(dat);
  42          //      Stop_PCF8591();
  43          //}


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     44    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       2
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.

C51 COMPILER V9.02   PCF8591                                                               03/22/2018 23:22:55 PAGE 2   


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
